{"version":3,"file":"static/webpack/static/development/pages/index.js.5addaf6fe765dbfa5301.hot-update.js","sources":["webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./src/pages/index.js"],"sourcesContent":["import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from \"react\";\nimport io from \"socket.io-client\";\n\nvar socket;\nclass Header extends Component {\n  constructor() {\n    super();\n    this.state = {\n      endpoint: \"http://localhost:3001/\",\n      name: '',\n      message: '',\n      messages:[]\n    };\n    socket = io(this.state.endpoint);\n\n    socket.on(\"chat message\", this.onNewMessage);\n\n    this.handleNameChange = this.handleNameChange.bind(this)\n    this.handleMessageChange = this.handleMessageChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  onNewMessage = (msg) => {\n    this.setState(state => {\n      const list = state.messages.concat(state.value);\n      return {\n        list,\n        value: '',\n      };\n    });\n  };\n\n  handleNameChange(e){\n    this.setState({\n      name: e.target.value\n    })\n  }\n\n  handleMessageChange(e){\n    this.setState({\n      message: e.target.value\n    })\n  }\n\n  handleSubmit() {\n    socket.emit('chat message', {name: this.state.name, message: this.state.message})\n  }\n\n  render() {\n    return (\n      <div className=\"flex justify-center mb-32\">\n        <div className=\"text-white container mt-10 bg-gray-900\" id=\"chat\"></div>\n        <form className=\"flex flex-col md:flex-row w-full h-64 md:h-24 container fixed\" onSubmit={this.handleSubmit}>\n          <input\n            className=\"bg-transparent w-full md:w-40 h-24 pl-2\"\n            type=\"text\"\n            placeholder=\"name\"\n            onChange={this.handleNameChange}\n            value={this.state.name}\n            required\n          />\n          <input\n            className=\"bg-transparent w-full md:w-screen h-full md:h-24 pb-32 md:pb-0 pl-2\"\n            type=\"text\"\n            placeholder=\"message\"\n            value={this.state.message}\n            onChange={this.handleMessageChange}\n          />\n          <button\n            className=\"bg-purple-700 text-white p-3 rounded h-16\"\n            type=\"submit\"\n          >\n            Send\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\nexport default Header;\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AAEA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAkBA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAxBA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AAEA;AACA;AACA;AAdA;AAeA;AACA;;;AAWA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AAzEA;AACA;AA0EA;;;;A","sourceRoot":""}